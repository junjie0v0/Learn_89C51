C51 COMPILER V9.59.0.0   MAIN                                                              07/13/2022 14:29:57 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\keil\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main.ls
                    -t) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "A.H"
   3          
   4          sbit Beep=P2^5;
   5          
   6          //Êí≠ÊîæÈÄüÂ∫¶Ôºå
   7          #define SPEED   500
   8          
   9          //Èü≥Á¨¶‰∏éÁ¥¢ÂºïÂØπÂ∫îË°®ÔºåPÔºö‰ºëÊ≠¢Á¨¶ÔºåLÔºö‰ΩéÈü≥ÔºåMÔºö‰∏≠Èü≥ÔºåHÔºöÈ´òÈü≥Ôºå‰∏ãÂàíÁ∫øÔºöÂçáÂçäÈü≥Á
             -¨¶Âè∑#
  10          #define P       0
  11          #define L1      1
  12          #define L1_     2
  13          #define L2      3
  14          #define L2_     4
  15          #define L3      5
  16          #define L4      6
  17          #define L4_     7
  18          #define L5      8
  19          #define L5_     9
  20          #define L6      10
  21          #define L6_     11
  22          #define L7      12
  23          #define M1      13
  24          #define M1_     14
  25          #define M2      15
  26          #define M2_     16
  27          #define M3      17
  28          #define M4      18
  29          #define M4_     19
  30          #define M5      20
  31          #define M5_     21
  32          #define M6      22
  33          #define M6_     23
  34          #define M7      24
  35          #define H1      25
  36          #define H1_     26
  37          #define H2      27
  38          #define H2_     28
  39          #define H3      29
  40          #define H4      30
  41          #define H4_     31
  42          #define H5      32
  43          #define H5_     33
  44          #define H6      34
  45          #define H6_     35
  46          #define H7      36
  47          
  48          unsigned char a,m,f;
  49          
  50          //Á¥¢Âºï‰∏éÈ¢ëÁéáÂØπÁÖßË°®
  51          unsigned int FreqTable[]={
  52                  0,
  53                  63628,63731,63835,63928,64021,64103,64185,64260,64331,64400,64463,64528,
C51 COMPILER V9.59.0.0   MAIN                                                              07/13/2022 14:29:57 PAGE 2   

  54                  64580,64633,64684,64732,64777,64820,64860,64898,64934,64968,65000,65030,
  55                  65058,65085,65110,65134,65157,65178,65198,65217,65235,65252,65268,65283,
  56          };
  57          
  58          //‰πêË∞±
  59          unsigned char code Music[]=
  60          {
  61                  //Èü≥Á¨¶,Êó∂
  62                  
  63                  //1
  64                  H2,2,
  65                  H3,2,
  66                  H5,2,
  67                  H1,2,
  68                  H2,2,
  69                  H3,2,
  70                  H5,2,
  71                  H1,2,
  72                  
  73                  H2,2,
  74                  H3,2,
  75                  H5,2,
  76                  H6,2,
  77                  H2,2,
  78                  H3,2,
  79                  M6,2,
  80                  H1,2,
  81                  
  82                  H2,2,
  83                  H3,2,
  84                  H5,2,
  85                  H1,2,
  86                  H2,2,
  87                  H3,2,
  88                  H5,2,
  89                  H1,2,
  90                  
  91                  H2,2,
  92                  H3,2,
  93                  H5,2,
  94                  H6,2,
  95                  H2,2,
  96                  H3,2,
  97                  M6,2,
  98                  H1,2,
  99                  
 100                  
 101                  //2
 102                  M2,2,
 103                  M3,2,
 104                  M5,2,
 105                  M1,2,
 106                  M2,2,
 107                  M3,2,
 108                  M5,2,
 109                  M1,2,
 110                  
 111                  M2,2,
 112                  M3,2,
 113                  M5,2,
 114                  M1,2,
 115                  M2,2,
C51 COMPILER V9.59.0.0   MAIN                                                              07/13/2022 14:29:57 PAGE 3   

 116                  M3,2,
 117                  M5,2,
 118                  M1,2,
 119                  
 120                  M2,2,
 121                  M3,2,
 122                  M5,2,
 123                  M1,2,
 124                  M2,2,
 125                  M3,2,
 126                  M5,2,
 127                  M1,2,
 128                  
 129                  M2,2,
 130                  M3,2,
 131                  M5,2,
 132                  M1,2,
 133                  M2,2,
 134                  M3,2,
 135                  L3,2,
 136                  L5,2,
 137                  
 138                  //3
 139                  L6,4,
 140                  M1,2,
 141                  M2,2+2,
 142                  M1,2,
 143                  L5,2,
 144                  L4,2,
 145                  
 146                  L3,2,
 147                  L5,2,
 148                  M1,4,
 149                  P,4,
 150                  M1,2,
 151                  L7,2,
 152                  
 153                  L6,4,
 154                  M1,4,
 155                  L7,2,
 156                  L5,4,
 157                  L5,2,
 158                  
 159                  L5,4,
 160                  P,4,
 161                  P,4,
 162                  L3,2,
 163                  L5,2,
 164                  
 165                  //4
 166                  L6,4,
 167                  M1,2,
 168                  M2,2+2,
 169                  M1,2,
 170                  L5,2,
 171                  L4,2,
 172                  
 173                  L3,2,
 174                  L5,2,
 175                  L7,2,
 176                  M1,2,
 177                  P,4,
C51 COMPILER V9.59.0.0   MAIN                                                              07/13/2022 14:29:57 PAGE 4   

 178                  M1,2,
 179                  L7,2,
 180                  
 181                  L6,4,
 182                  M1,4,
 183                  L7,2,
 184                  L5,4,
 185                  L5,2,
 186                  
 187                  L6,4,
 188                  P,4,
 189                  P,4,
 190                  L6,2,
 191                  L7,2,
 192                  
 193                  //5
 194                  M2,4,
 195                  L7,2,
 196                  L6,2,
 197                  L7,2,
 198                  M1,4,
 199                  
 200                  P,2,
 201                  L7,2,
 202                  L6,2,
 203                  L7,2,
 204                  M1,2,
 205                  L7,2,
 206                  L5,2,
 207                  L6,2,
 208                  
 209                  L5,2,
 210                  L1,2+2,
 211                  L6,2,
 212                  L5,2,
 213                  L1,2,
 214                  L2,2+2,
 215                  
 216                  L3,4,
 217                  P,4+4,
 218                  L6,2,
 219                  L7,2,
 220                  
 221                  //6
 222                  M2,4,
 223                  L7,2,
 224                  L6,2,
 225                  L7,2,
 226                  M1,4,
 227                  
 228                  P,2,
 229                  L7,2,
 230                  L6,2,
 231                  L7,2,
 232                  M1,2,
 233                  M2,2,
 234                  M3,2,
 235                  M4,2,
 236                  
 237                  M4,2,
 238                  M1,2+2,
 239                  M2,1,
C51 COMPILER V9.59.0.0   MAIN                                                              07/13/2022 14:29:57 PAGE 5   

 240                  M3,1,
 241                  M2,2,
 242                  M1,2+4,
 243                  
 244                  P,4+4+4,
 245                  M3,2,
 246                  M5,1,
 247                  M3,1,
 248                  
 249                  //7
 250                  M2,2,
 251                  M1,2,
 252                  L6,1,
 253                  M1,2,
 254                  M2,1+2,
 255                  P,2,
 256                  M3,2,
 257                  M5,1,
 258                  M3,1,
 259                  
 260                  M2,2,
 261                  M1,2,
 262                  L5,1,
 263                  M1,2,
 264                  M1,1+2,
 265                  P,2,
 266                  M3,2,
 267                  M5,1,
 268                  M3,1,
 269                  
 270                  M2,2,
 271                  P,2,
 272                  M3,1,
 273                  M5,2+1+1,
 274                  M7,2,
 275                  M5,1,
 276                  M4,1,
 277                  M3,2,
 278                  
 279                  //8
 280                  M3,4+4,
 281                  P,4,
 282                  M3,2,
 283                  M5,1,
 284                  M3,1,
 285                  
 286                  M2,2,
 287                  M1,2,
 288                  L6,1,
 289                  M1,2,
 290                  M2,1+2,
 291                  P,2,
 292                  M3,2,
 293                  M5,1,
 294                  M3,1,
 295                  
 296                  M2,2,
 297                  M1,2,
 298                  L6,1,
 299                  M1,2+1+2,
 300                  P,2,
 301                  M1,1,
C51 COMPILER V9.59.0.0   MAIN                                                              07/13/2022 14:29:57 PAGE 6   

 302                  L7,1,
 303                  L6,1,
 304                  L7,1,
 305                  
 306                  L7,2,
 307                  L6,1,
 308                  M2,4,
 309                  L7,2,
 310                  L6,2,
 311                  L7,2+2,
 312                  
 313                  //9
 314                  M7,2,
 315                  M2,4,
 316                  M1,4,
 317                  P,4,
 318                  0xFF    //ÁªàÊ≠¢Ê†áÂøó
 319          };
 320          
 321          
 322          
 323          
 324          void main()
 325          {
 326   1              Timer0Init();
 327   1              while(1)
 328   1              {
 329   2                      
 330   2                      if(Music[a]!=0xff)                              //Â¶ÇÊûú‰∏çÊòØÂÅúÊ≠¢Ê†áÂøó‰Ωç
 331   2                      {
 332   3                              f=Music[a];                                     //ÈÄâÊã©Èü≥Á¨¶ÂØπÂ∫îÁöÑÈ¢ëÁéá
 333   3                              a++;
 334   3                              Delay(SPEED/4*Music[a]);        //ÈÄâÊã©Èü≥Á¨¶ÂØπÂ∫îÁöÑÊó∂ÂÄº
 335   3                              a++;
 336   3                              TR0=0;
 337   3                              Delay(5);       //Èü≥Á¨¶Èó¥Áü≠ÊöÇÂÅúÈ°ø
 338   3                              TR0=1;
 339   3                      }
 340   2                      else
 341   2                      {
 342   3                              TR0=0;
 343   3                              while(1);
 344   3                      }
 345   2              }
 346   1      }
 347          
 348          void Timer0_Routine() interrupt 1
 349          {
 350   1              if(FreqTable[f])        //Â¶ÇÊûú‰∏çÊòØ‰ºëÊ≠¢Á¨¶
 351   1              {
 352   2                      /*ÂèñÂØπÂ∫îÈ¢ëÁéáÂÄºÁöÑÈáçË£ÖËΩΩÂÄºÂà∞ÂÆöÊó∂Âô®*/
 353   2                      TL0 = FreqTable[f]%256;         //ËÆæÁΩÆÂÆöÊó∂ÂàùÂÄº
 354   2                      TH0 = FreqTable[f]/256;         //ËÆæÁΩÆÂÆöÊó∂ÂàùÂÄº
 355   2                      Beep=!Beep;
 356   2                      P2_0=!P2_0;
 357   2              }
 358   1              
 359   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    103    ----
C51 COMPILER V9.59.0.0   MAIN                                                              07/13/2022 14:29:57 PAGE 7   

   CONSTANT SIZE    =    429    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     77    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
